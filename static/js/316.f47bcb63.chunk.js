"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[316],{236:function(e,n,t){t.d(n,{Hg:function(){return i},TP:function(){return o},gH:function(){return c},tx:function(){return s},zv:function(){return a}});var r="5a20241834eb9a6674dc92f9938aafbf",i=function(e){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(r,"&page=").concat(e)).then((function(e){return e.json()}))},c=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e)).then((function(e){return e.json()}))},o=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}))},s=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}))}},316:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r,i,c,o=t(439),a=t(791),s=t(87),u=t(689),h=t(168),d=t(444),l=d.ZP.div(r||(r=(0,h.Z)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 16px;\n"]))),p=d.ZP.div(i||(i=(0,h.Z)(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #c0c0c0;\n"]))),v=(0,d.ZP)(s.rU)(c||(c=(0,h.Z)(["\n  display: block;\n  margin: 16px;\n  font-weight: 700;\n"]))),f=t(184);function g(e){var n=e.backLink,t=e.movieSpec;return(0,f.jsxs)(l,{children:[(0,f.jsx)(v,{to:n,children:"Go back"}),(0,f.jsxs)(p,{children:[t.poster_path&&(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:t.tagline}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("h1",{children:[t.title," (",t.release_date.slice(0,4),")"]}),(0,f.jsxs)("p",{children:["User score: ",parseInt(10*t.vote_average,10),"%"]}),(0,f.jsx)("h2",{children:"Overview"}),(0,f.jsx)("p",{children:t.overview}),(0,f.jsx)("h2",{children:"Genres"}),(0,f.jsx)("p",{children:t.genres.map((function(e){return e.name})).join(", ")})]})]}),(0,f.jsx)(p,{children:(0,f.jsxs)("ul",{children:[(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"cast",children:"Cast"})}),(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"reviews",children:"Reviews"})})]})}),(0,f.jsx)(a.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading sub-page..."}),children:(0,f.jsx)(u.j3,{})})]})}var m=t(236),x=function(){var e,n,t=(0,a.useState)(null),r=(0,o.Z)(t,2),i=r[0],c=r[1],s=(0,u.UO)().movieId,h=(0,u.TH)(),d=(0,a.useRef)(null!==(e=null===(n=h.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies");return(0,a.useEffect)((function(){(0,m.TP)(s).then((function(e){return e})).then((function(e){return{title:e.title,release_date:e.release_date,vote_average:e.vote_average,poster_path:e.poster_path,tagline:e.tagline,overview:e.overview,genres:e.genres}})).then((function(e){c(e)}))}),[s]),(0,f.jsx)(f.Fragment,{children:i&&(0,f.jsx)(g,{backLink:d.current,movieSpec:i})})}}}]);
//# sourceMappingURL=316.f47bcb63.chunk.js.map