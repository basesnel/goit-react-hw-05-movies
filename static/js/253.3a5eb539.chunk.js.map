{"version":3,"file":"static/js/253.3a5eb539.chunk.js","mappings":"uQAAA,IAAMA,EAAS,mCAEFC,EAAc,SAAAC,GACzB,OAAOC,MAAM,4DAAD,OACkDH,EADlD,iBACiEE,IAC3EE,MAAK,SAAAC,GACL,OAAOA,EAAKC,MACb,GACF,EAEYC,EAAiB,SAAAC,GAC5B,OAAOL,MAAM,qDAAD,OAC2CH,EAD3C,kBAC2DQ,IACrEJ,MAAK,SAAAC,GACL,OAAOA,EAAKC,MACb,GACF,EAEYG,EAAkB,SAAAC,GAC7B,OAAOP,MAAM,sCAAD,OAC4BO,EAD5B,oBAC0CV,IACpDI,MAAK,SAAAC,GACL,OAAOA,EAAKC,MACb,GACF,EAEYK,EAAkB,SAAAD,GAC7B,OAAOP,MAAM,sCAAD,OAC4BO,EAD5B,4BACkDV,IAC5DI,MAAK,SAAAC,GACL,OAAOA,EAAKC,MACb,GACF,EAEYM,EAAkB,SAAAF,GAC7B,OAAOP,MAAM,sCAAD,OAC4BO,EAD5B,4BACkDV,IAC5DI,MAAK,SAAAC,GACL,OAAOA,EAAKC,MACb,GACF,C,8ECtCYO,E,OAAcC,GAAAA,IAAH,uM,SCET,SAASC,EAAT,GAAkC,IAAhBC,EAAe,EAAfA,YAC/B,OACE,UAACH,EAAD,YACE,SAAC,KAAD,CACEI,YAAY,OACZC,YAAY,IACZC,kBAAkB,OAClBC,MAAM,KACNC,SAAS,KAEX,uBAAIL,MAGT,C,0FCdYM,EAAOR,EAAAA,GAAAA,GAAH,8DAKJS,EAAOT,EAAAA,GAAAA,GAAH,gDAIJU,GAAYV,EAAAA,EAAAA,IAAOW,EAAAA,GAAPX,CAAH,mR,SCTP,SAASY,EAAT,GAAyD,IAAnCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACzD,OACE,SAACP,EAAD,UACGK,EAAYG,KAAI,SAAAC,GAAK,OACpB,SAACR,EAAD,WACE,UAACC,EAAD,CAAWQ,GAAE,UAAKJ,GAAL,OAAeG,EAAMrB,IAAMuB,MAAO,CAAEC,KAAML,GAAvD,UACGE,EAAMI,MADT,MACmBJ,EAAMK,iBAFhBL,EAAMrB,GADG,KAS3B,C,6ICbY2B,EAAYvB,EAAAA,GAAAA,IAAH,kF,SCATwB,EAAcxB,EAAAA,GAAAA,KAAH,uDAKXyB,EAAQzB,EAAAA,GAAAA,MAAH,+GAOL0B,EAAS1B,EAAAA,GAAAA,OAAH,2S,SCXJ,SAAS2B,EAAT,GAAuC,IAAjBC,EAAgB,EAAhBA,aACnC,OACE,UAACJ,EAAD,CAAaK,SAAUD,EAAvB,WACE,SAACH,EAAD,CACEK,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,YAAY,sBAEd,SAACP,EAAD,uBAGL,C,aC2DD,EAjEe,WAAO,IAAD,EACnB,GAAsCQ,EAAAA,EAAAA,UAAS,IAA/C,eAAOrB,EAAP,KAAoBsB,EAApB,KACA,GAA8BD,EAAAA,EAAAA,WAAS,GAAvC,eAAOE,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMzB,GAAW0B,EAAAA,EAAAA,MAEX/C,EAAK,UAAG6C,EAAaG,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACM,KAAVjD,IAEJ2C,GAAW,GACXO,YAAW,YACTnD,EAAAA,EAAAA,IAAeC,GACZJ,MAAK,SAAAuD,GAYJ,OAXyBA,EAAMC,QAAQ9B,KACrC,YAAkC,IAA/BpB,EAA8B,EAA9BA,GAAIyB,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aACNyB,EAAO,CAAC,EAMd,OAJAA,EAAKnD,GAAKA,EACVmD,EAAK1B,MAAQA,EACb0B,EAAKzB,aAAeA,EAEbyB,CACR,GAGJ,IACAzD,MAAK,SAAA0D,GACJb,EAAea,EAChB,IACAC,QAAQZ,GAAW,GACvB,GAAE,KACJ,GAAE,CAAC3C,IAUJ,OACE,UAAC6B,EAAD,YACE,SAACI,EAAD,CAAYC,aAVO,SAAAsB,GACrBA,EAAMC,iBAEN,IAAMC,EAAOF,EAAMG,OACnBb,EAAgB,CAAE9C,MAAO0D,EAAKE,SAAS5D,MAAM6D,QAC7CH,EAAKI,OACN,IAMIpB,GACC,SAACnC,EAAA,EAAD,CAAQC,YAAW,kCAA6BR,EAA7B,UAEnBmB,IACE,0BACE,SAACD,EAAA,EAAD,CACEC,YAAaA,EACbC,QAAQ,GACRC,SAAUA,QAOvB,C","sources":["api/api-service.js","components/Loader/Loader.styled.js","components/Loader/Loader.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/Movies/Movies.styled.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["const apiKey = '5a20241834eb9a6674dc92f9938aafbf';\n\nexport const getTrending = page => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${apiKey}&page=${page}`\n  ).then(data => {\n    return data.json();\n  });\n};\n\nexport const getSearchMovie = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`\n  ).then(data => {\n    return data.json();\n  });\n};\n\nexport const getMovieDetails = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}`\n  ).then(data => {\n    return data.json();\n  });\n};\n\nexport const getMovieCredits = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${apiKey}`\n  ).then(data => {\n    return data.json();\n  });\n};\n\nexport const getMovieReviews = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${apiKey}`\n  ).then(data => {\n    return data.json();\n  });\n};\n","import styled from 'styled-components';\n\nexport const LoaderBlock = styled.div`\n  margin: 16px auto 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  justify-content: center;\n  color: #808080;\n  font-weight: 700;\n`;\n","import { RotatingLines } from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport { LoaderBlock } from './Loader.styled';\n\nexport default function Loader({ searchQuery }) {\n  return (\n    <LoaderBlock>\n      <RotatingLines\n        strokeColor=\"grey\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        visible={true}\n      />\n      <p>{searchQuery}</p>\n    </LoaderBlock>\n  );\n}\n\nLoader.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  padding: 8px;\n  list-style: none;\n`;\n\nexport const Item = styled.li`\n  padding-bottom: 8px;\n`;\n\nexport const MovieLink = styled(Link)`\n  display: inline-block;\n  padding: 4px 0;\n  color: #444;\n  border-bottom: 1px solid transparent;\n  text-decoration: none;\n\n  transition: border-bottom 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    border-bottom: 1px solid #444;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { List, Item, MovieLink } from './MoviesList.styled';\n\nexport default function MoviesList({ foundMovies, subpath, location }) {\n  return (\n    <List>\n      {foundMovies.map(movie => (\n        <Item key={movie.id}>\n          <MovieLink to={`${subpath}${movie.id}`} state={{ from: location }}>\n            {movie.title} | {movie.vote_average}\n          </MovieLink>\n        </Item>\n      ))}\n    </List>\n  );\n}\n\nMoviesList.propTypes = {\n  foundMovies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      vote_average: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n  subpath: PropTypes.string.isRequired,\n  location: PropTypes.object.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 16px;\n`;\n","import styled from 'styled-components';\n\nexport const SearchBlock = styled.form`\n  display: flex;\n  gap: 5px;\n`;\n\nexport const Field = styled.input`\n  width: 200px;\n  padding: 5px;\n  border: 1px solid #191970;\n  border-radius: 2px;\n`;\n\nexport const Search = styled.button`\n  padding: 5px;\n  border: 1px solid #191970;\n  border-radius: 2px;\n  color: #191970;\n  background-color: #fff;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    color: white;\n    background-color: #191970;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { SearchBlock, Field, Search } from './SearchForm.styled';\n\nexport default function SearchForm({ handleSubmit }) {\n  return (\n    <SearchBlock onSubmit={handleSubmit}>\n      <Field\n        type=\"text\"\n        name=\"query\"\n        autoComplete=\"off\"\n        placeholder=\"Search movies...\"\n      />\n      <Search>Search</Search>\n    </SearchBlock>\n  );\n}\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n};\n","import { useLocation, useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getSearchMovie } from '../../api/api-service';\nimport { Container } from './Movies.styled';\n\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [pending, setPending] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query === '') return;\n\n    setPending(true);\n    setTimeout(() => {\n      getSearchMovie(query)\n        .then(found => {\n          const moviesCollection = found.results.map(\n            ({ id, title, vote_average }) => {\n              const item = {};\n\n              item.id = id;\n              item.title = title;\n              item.vote_average = vote_average;\n\n              return item;\n            }\n          );\n          return moviesCollection;\n        })\n        .then(moviesCollection => {\n          setFoundMovies(moviesCollection);\n        })\n        .finally(setPending(false));\n    }, 500);\n  }, [query]);\n\n  const onHandleSubmit = event => {\n    event.preventDefault();\n\n    const form = event.target;\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  return (\n    <Container>\n      <SearchForm handleSubmit={onHandleSubmit} />\n\n      {pending ? (\n        <Loader searchQuery={`Search movies on query \"${query}\"...`} />\n      ) : (\n        foundMovies && (\n          <div>\n            <MoviesList\n              foundMovies={foundMovies}\n              subpath=\"\"\n              location={location}\n            />\n          </div>\n        )\n      )}\n    </Container>\n  );\n};\n\nexport default Movies;\n"],"names":["apiKey","getTrending","page","fetch","then","data","json","getSearchMovie","query","getMovieDetails","id","getMovieCredits","getMovieReviews","LoaderBlock","styled","Loader","searchQuery","strokeColor","strokeWidth","animationDuration","width","visible","List","Item","MovieLink","Link","MoviesList","foundMovies","subpath","location","map","movie","to","state","from","title","vote_average","Container","SearchBlock","Field","Search","SearchForm","handleSubmit","onSubmit","type","name","autoComplete","placeholder","useState","setFoundMovies","pending","setPending","useSearchParams","searchParams","setSearchParams","useLocation","get","useEffect","setTimeout","found","results","item","moviesCollection","finally","event","preventDefault","form","target","elements","value","reset"],"sourceRoot":""}